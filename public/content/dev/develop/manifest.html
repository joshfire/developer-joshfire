<h1>Prepare a manifest file</h1>

<p>All templates must include a top-level manifest file called <code>package.json</code> that describes the template. This manifest file follows the <a href="http://json.org/">JavaScript Object Notation</a> (JSON) format, and borrows parameters from <a href="http://wiki.commonjs.org/wiki/Packages/1.1">CommonJS Packages 1.1</a>.</p>

<p>In <a href="/doc/gettingstarted/intro">Introduction to templates</a>, we saw what a minimal template may look like. The manifest file contains:</p>

<ul>
  <li>factory-oriented information about the template (<a href="/doc/ref/package#description">description</a>, <a href="/doc/ref/package#keywords">keywords</a>, <a href="/doc/ref/package#family-screenshots">screenshots</a>, <a href="/doc/ref/package#licenses">licenses</a>, etc.);</li>
  <li>description of the datasource inputs of the template (names, numbers, types);</li>
  <li>definitions of additional template parameters as needed (allows per-application template customization);</li>
  <li>assertions about devices support and associated entry points.</li>
</ul>

<p>The possible sections and parameters are described in the <a href="/doc/ref/package">manifest reference</a>.</p>

<p>To help you generate your manifest file, we created an <a href="http://factory.joshfire.com/app#bootstraptool">online tool</a>.</p>

<h2 id="outline">Manifest outline</h2>

<p>You may use the following ready-to-fill JSON snippet as starting point for your template manifest noting that:</p>
<ol>
 <li>manifest properties link to the relevant section of the <a href="/doc/ref/package">reference</a> to help you find your way;</li>
 <li>text in italic below needs to be replaced by appropriate values in your template;</li>
 <li>not all properties listed here are mandatory. Although we strongly recommend you to consider these properties, you may want to drop some of them in the manifest file of your template;</li>
 <li>there exist additional properties that may be useful for your template. Please check the <a href="/doc/ref/package">reference</a> and ask for <a href="/support">support</a> if the property you're looking for does not seem to exist.</li>
</ol>
<pre><code class="json">{
  "<a href="/doc/ref/package#name">name</a>": "",
  "<a href="/doc/ref/package#fullName">fullName</a>": "",
  "<a href="/doc/ref/package#description">description</a>": "",
  "<a href="/doc/ref/package#version">version</a>": "",
  "<a href="/doc/ref/package#keywords">keywords</a>": [
    "",
    "",
    ""
  ],
  "<a href="/doc/ref/package#contributors">contributors</a>": [
    {
      "name": "",
      "email": "",
      "web": ""
    }
  ],
  "<a href="/doc/ref/package#maintainers">maintainers</a>": [
    {
      "name": "",
      "email": "",
      "web": ""
    }
  ],
  "<a href="/doc/ref/package#licenses">licenses</a>": [
    {
      "type": "",
      "url": ""
    }
  ],
  "joshfire": {
    "<a href="/doc/ref/package#images">images</a>": {
      "small": "",
      "big": ""
    },
    "<a href="/doc/ref/package#datasources">datasources</a>": {
      "<em>tabs</em>": {
        "<a href="/doc/ref/package#datasource-title">title</a>": "",
        "<a href="/doc/ref/package#datasource-description">description</a>": "",
        "<a href="/doc/ref/package#datasource-multiple">multiple</a>": <em>true</em>
      },
      "<em>news</em>": {
        "title": "",
        "description": ""
      }
    },
    "<a href="/doc/ref/package#devices">devices</a>": [
      {
        "<a href="/doc/ref/package#family-devices">devices</a>": "<em>phone</em>",
        "<a href="/doc/ref/package#family-startfile">startfile</a>": "",
        "<a href="/doc/ref/package#family-orientation">orientation</a>": "auto",
        "<a href="/doc/ref/package#family-disablePreview">disablePreview</a>": false,
        "<a href="/doc/ref/package#family-images">images</a>": "",
        "<a href="/doc/ref/package#family-screenshots">screenshots</a>": [
          "",
          ""
        ]
      },
      {
        "devices": "<em>tv</em>",
        "startfile": "",
        "images": "",
        "screenshots": [
          "",
          ""
        ]
      }
    ],
    "<a href="/doc/ref/package#options">options</a>": {
      "schema": {
        "abouthtml": {
          "type": "<em>string</em>",
          "title": ""
        }
      },
      "form": [
        "datasources.tabs",
        "datasources.news",
        {
          "key": "abouthtml",
          "type": "textarea"
        }
      ]
    }
  }
}</code></pre>


<h2 id="guidelines">Manifest guidelines</h2>

<h3 id="describe">Describe your template</h3>
<p>Pay attention to the textual information that describes your template. The <a href="/doc/ref/package#fullname">fullName</a> should capture the purpose of the template in a few short and simple words. Keep in mind that users will only see more details about the template when they select it. Examples of possible fullName values:</p>
<ul>
  <li>« Birthday party » for an event template specialized in birthday parties.</li>
  <li>« Grandma's recipes » for a cooking template with an old-fashioned look-and-feel</li>
</ul>

<p>Similarly, the <a href="/doc/ref/package#description">description</a> should detail the purpose of the template, its level of support for families of devices as well as the types and numbers of datasources that the template handles. Newlines are allowed. Future versions of the factory may support markup.</p>

<p><a href="/doc/ref/package#keywords">keywords</a> provide yet another descriptive set of words for the template. They will be used to filter out templates based on user input.</p>

<h3 id="visual">Ensure your template is visually attractive</h3>

<p>Many users will only rely on text descriptions to search and filter templates. Template images and screenshots are much more important than text to pick up a template in the end. You will <em>sell</em> your template through images first, so you should pay close attention to the marketing images that advertize your template to gain value in users' eyes.</p>

<p>You need to provide two main marketing <a href="/doc/ref/package#images">images</a> in the manifest file:</p>
<ul>
 <li>a <em>smaller</em> image (<code>380x236</code>) that gets displayed in the templates listing. That's the most important one since it is the first one that the user will see;</li>
 <li>a <em>larger</em> image (<code>700x335</code>) that gets displayed on the template's details page, in other words when the factory user selects your template in the list.</li>
</ul>

<p>In both cases, as much as is practical, the image should convey:</p>
<ul>
  <li>the look and feel of the template</li>
  <li>targeted families of devices</li>
  <li>datasource types</li>
</ul>
<p>Save their actual size, the images could be identical but we encourage you to use the space available to carry more information in the larger image.</p>

<figure>
  <img src="http://i.imgur.com/XF5iy.png" alt="A crowd of participants is attending an event. The tagline 'Connect with your public' is displayed as overlay, as well as a mobile phone and a tablet to show targeted devices." />
  <figcaption>Example of a generic 'Event' template image</figcaption>
</figure>

<p>On top of marketing images, <a href="/doc/ref/package#family-images">per-family images</a> replace the generic template image when the user moves over or select a specific family for the template. The image has the same size as the small template image <code>380x236</code>. It should typically feature a screenshot of the template on a typical device of the selected family completed with visual clues on the template.</p>

<figure>
  <img src="/img/tedx-tablet.png" alt="" />
  <figcaption>Example of a template image for tablets</figcaption>
</figure>

<p>Eventually, include <a href="/doc/ref/package#family-screenshots">screenshots</a> in the manifest. These screenshots must be <em>real</em> screenshots taken on a typical device of the underlying family. The factory displays the screenshots in the template's details page.</p>

<figure>
  <img src="http://i.imgur.com/rphpo.png" alt="" />
  <figcaption>Example of a template screenshot on a phone</figcaption>
</figure>

<p>Remaining sections of the manifest are covered in other documentation pages:</p>
<ul>
  <li><a href="/doc/develop/datasources">Bind to datasources</a></li>
  <li><a href="/doc/develop/options">Propose more configuration settings</a></li>
  <li><a href="/doc/develop/devices">Support multiple devices</a></li>
</ul>

<h3 id="preview">Check the preview</h3>

<p>The Factory features a preview pane on the right side that lets factory users run their application as if they were using a real device. This preview mode is essential because it provides real-time feedback, letting users tweak datasources and adjust configuration settings and check the result within seconds. Unfortunately, the preview is by essence imperfect as it runs in the user's Web browser, which may not behave as the actual Web browser on the final device.</p>

<p>You should check the preview mode and fix your template if necessary. If fixing is not an option for a family of devices, e.g. because your template requires device specific capabilities or because the design is not flexible enough to fit the frame in the preview, simply set the <a href="/doc/ref/package#family-disablePreview">disablePreview</a> flag for the family in the manifest file.</p>

<h3 id="versioning">Use template versioning</h3>

<p>A Web application is bound to a specific version of a template identified by the latest commit identifier for the template when the Web application is created.</p>

<p>In particular, a Web application does not automatically switch to the latest version of a template when the template is updated. That is on purpose, both to ensure that Web applications do not break in case changes are not backward compatible, and to ensure factory users remain in control of the evolutions of their Web application(s).</p>

<p>That said, the factory notifies users whenever the version defined in the manifest file of a template they use is incremented. The notification lets them switch to the latest version.</p>

<p>From a template development perspective, this means that you should use template versioning through the <a href="/doc/ref/package#version">version</a> manifest property and provide changelogs in the <a href="/doc/ref/package#description">description</a> of your template to guide factory users through updates.</p>

<p>Conversely, to avoid sending useless notifications to factory users, you should not increment the template's version number for "cosmetic" changes, for instance updates of your template's description or screenshots, since they do not affect the functionality of your template in any way.</p>

<h3 id="validation">Validate your manifest</h3>
<p>Use our <a href="http://factory.joshfire.com/app#bootstraptool">online manifest validation tool</a> to make sure your manifest file is ready to be used by the Factory.</p>